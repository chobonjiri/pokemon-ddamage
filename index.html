<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ポケモン実数値計算・ダメージ計算ツール</title>
  
  <link rel="stylesheet" href="style/base.css" />
  <link rel="stylesheet" href="style/layout.css" />
  <link rel="stylesheet" href="style/components/buttons.css" />
  <link rel="stylesheet" href="style/components/forms.css" />
  <link rel="stylesheet" href="style/components/segmented-control.css" />
  <link rel="stylesheet" href="style/modules/panels.css" />
  <style>
    /* 既存のインラインスタイル（特に dropdown 関連）は、
       style/components/dropdown.css のような別ファイルに切り出すか、
       既存のCSSファイルに統合することを検討してください。
       ここでは簡略化のため一部残しますが、最終的には外部化が望ましいです。 */
    .dropdown-wrapper {
        position: relative;
        display: inline-block;
    }
    .dropdown-toggle {
        background-color: #fff; border: 1px solid #ccc; border-radius: 4px;
        padding: 4px 8px; font-size: 14px; cursor: pointer;
        display: flex; align-items: center; justify-content: space-between;
        min-width: 60px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); outline: none;
        transition: border-color 0.3s ease;
    }
    .dropdown-toggle:hover, .dropdown-toggle.active { border-color: #007bff; }
    .dropdown-toggle.active { box-shadow: 0 0 0 2px rgba(0,123,255,0.25); }
    .arrow-icon { margin-left: 4px; font-size: 10px; transition: transform 0.3s ease; }
    .dropdown-toggle.active .arrow-icon { transform: rotate(180deg); }
    .dropdown-menu {
        position: absolute; top: 100%; left: 0; width: 100%;
        background-color: #fff; border: 1px solid #ccc; border-radius: 4px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1); list-style: none;
        padding: 0; margin-top: 4px; z-index: 1000; /* z-index調整 */
        max-height: 150px; overflow-y: auto; display: none;
    }
    .dropdown-menu.show { display: block; }
    .dropdown-menu li { padding: 8px 12px; cursor: pointer; }
    .dropdown-menu li:hover, .dropdown-menu li.selected { background-color: #e9ecef; }

    /* オートコンプリート候補のスタイル (panels.css から移動または共通化検討) */
    .suggestions-list {
        list-style-type: none; padding: 0; margin: 0;
        border: 1px solid #ccc; border-top: none;
        position: absolute; z-index: 1001; /* ドロップダウンより手前に */
        background-color: white; max-height: 200px; overflow-y: auto;
        width: calc(100% - 2px); box-sizing: border-box;
    }
    .suggestions-list li { padding: 8px 12px; cursor: pointer; font-size: 0.9em; }
    .suggestions-list li:hover, .suggestions-list li.suggestion-highlight { background-color: #e0e0e0; }
    .suggestions-list.no-results li.no-results-message { color: #777; cursor: default; }
    .suggestions-list.no-results li.no-results-message:hover { background-color: transparent; }
  </style>
</head>
<body>

<div class="page-container">
  <div class="panel" id="red2-panel" style="background-color: lightcoral;">
    <div class="panel-header-row">
      <h3>Red 2</h3>
      <div class="pokemon-info-line pokemon-name-item-row">
        <div class="pokemon-name-input-wrapper">
          <input type="text" id="red2-pokemon-name" autocomplete="off" placeholder="ポケモン名" class="search-input-field pokemon-name-input" />
        </div>
        <input type="text" id="red2-item" class="item-input" placeholder="持ち物">
        <span id="red2-pokemon-type" class="type-display">Type</span>
      </div>
    </div>
    <div class="pokemon-info-line">
      <div class="ability-section" id="red2-ability-section">
          <div class="segmented-control" id="red2-ability-choice">
            </div>
      </div>
      <label class="checkbox-inline"><input type="checkbox" id="red2-ability-nullified" />無効</label>
    </div>
    <div class="pokemon-info-line">
      <select id="red2-type-change" title="タイプ変更">
        <option value="">タイプ変更なし</option>
        <option value="terastal-normal">テラス(ノーマル)</option>
        <option value="terastal-fire">テラス(ほのお)</option>
        <option value="terastal-water">テラス(みず)</option>
        <option value="terastal-electric">テラス(でんき)</option>
        <option value="terastal-grass">テラス(くさ)</option>
        <option value="terastal-ice">テラス(こおり)</option>
        <option value="terastal-fighting">テラス(かくとう)</option>
        <option value="terastal-poison">テラス(どく)</option>
        <option value="terastal-ground">テラス(じめん)</option>
        <option value="terastal-flying">テラス(ひこう)</option>
        <option value="terastal-psychic">テラス(エスパー)</option>
        <option value="terastal-bug">テラス(むし)</option>
        <option value="terastal-rock">テラス(いわ)</option>
        <option value="terastal-ghost">テラス(ゴースト)</option>
        <option value="terastal-dragon">テラス(ドラゴン)</option>
        <option value="terastal-dark">テラス(あく)</option>
        <option value="terastal-steel">テラス(はがね)</option>
        <option value="terastal-fairy">テラス(フェアリー)</option>
        <option value="stellar">ステラ</option>
      </select>
      <input type="text" id="red2-move" autocomplete="off" placeholder="技" class="search-input-field move-input" />
      <input type="number" id="red2-move-times" title="技の回数" value="1" min="1" max="5" style="width: 50px;"/>
      <span id="red2-move-type" class="type-display">MoveType</span>
    </div>
    <div id="red2-move-double-damage-section" class="move-double-damage-section" style="display:none;">
      <label class="checkbox-inline"><input type="checkbox" id="red2-double-damage-checkbox" /> ダブルダメージ</label>
    </div>
    <div class="stat-block" id="red2-main-offensive-stat-block">
      <div style="display: flex; align-items: center;">
        <h4 id="red2-main-offensive-label" style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">A or C</h4>
        <div style="display: flex; align-items: center;">
          <span id="red2-main-offensive-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
          <div class="attack-rank-selector">
              <div class="selector-controls">
                  <div class="dropdown-wrapper">
                      <button id="red2-main-offensive-dropdownBtn" class="dropdown-toggle">
                          <span id="red2-main-offensive-rank-display">±0</span>
                          <span class="arrow-icon">▼</span>
                      </button>
                      <ul id="red2-main-offensive-dropdownMenu" class="dropdown-menu"></ul>
                  </div>
                  <button type="button" onclick="window.changeRank('red2-main-offensive', -1)" class="rank-btn minus">-</button>
                  <span id="red2-main-offensive-rank-val" class="rank-value" style="display:none;">0</span> <button type="button" onclick="window.changeRank('red2-main-offensive', 1)" class="rank-btn plus">+</button>
              </div>
          </div>
        </div>
      </div>
      <div class="stat-block-row">
        <div class="segmented-control nature-control" id="red2-main-offensive-nature-control">
          <button type="button" data-value="0.9">x0.9</button>
          <button type="button" data-value="1.0" class="active">x1.0</button>
          <button type="button" data-value="1.1">x1.1</button>
        </div>
        <input type="hidden" id="red2-main-offensive-nature" value="1.0"/>
        <input type="number" id="red2-main-offensive-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
        <input type="number" id="red2-main-offensive-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
      </div>
    </div>
    <div class="stat-block">
      <div style="display: flex; align-items: center;">
        <h4 style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">B</h4>
        <div style="display: flex; align-items: center;">
          <span id="red2-defense-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
          <div class="attack-rank-selector">
              <div class="selector-controls">
                  <div class="dropdown-wrapper">
                      <button id="red2-defense-dropdownBtn" class="dropdown-toggle">
                          <span id="red2-defense-rank-display">±0</span>
                          <span class="arrow-icon">▼</span>
                      </button>
                      <ul id="red2-defense-dropdownMenu" class="dropdown-menu"></ul>
                  </div>
                  <button type="button" onclick="window.changeRank('red2-defense', -1)" class="rank-btn minus">-</button>
                  <span id="red2-defense-rank-val" class="rank-value" style="display:none;">0</span>
                  <button type="button" onclick="window.changeRank('red2-defense', 1)" class="rank-btn plus">+</button>
              </div>
          </div>
        </div>
      </div>
      <div class="stat-block-row">
        <div class="segmented-control nature-control" id="red2-defense-nature-control">
            <button type="button" data-value="0.9">x0.9</button>
            <button type="button" data-value="1.0" class="active">x1.0</button>
            <button type="button" data-value="1.1">x1.1</button>
        </div>
        <input type="hidden" id="red2-defense-nature" value="1.0"/>
        <input type="number" id="red2-defense-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
        <input type="number" id="red2-defense-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
      </div>
    </div>
    <div class="stat-block">
      <div style="display: flex; align-items: center;">
        <h4 style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">D</h4>
        <div style="display: flex; align-items: center;">
          <span id="red2-sp-defense-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
          <div class="attack-rank-selector">
              <div class="selector-controls">
                  <div class="dropdown-wrapper">
                      <button id="red2-sp-defense-dropdownBtn" class="dropdown-toggle">
                          <span id="red2-sp-defense-rank-display">±0</span>
                          <span class="arrow-icon">▼</span>
                      </button>
                      <ul id="red2-sp-defense-dropdownMenu" class="dropdown-menu"></ul>
                  </div>
                  <button type="button" onclick="window.changeRank('red2-sp-defense', -1)" class="rank-btn minus">-</button>
                  <span id="red2-sp-defense-rank-val" class="rank-value" style="display:none;">0</span>
                  <button type="button" onclick="window.changeRank('red2-sp-defense', 1)" class="rank-btn plus">+</button>
              </div>
          </div>
        </div>
      </div>
      <div class="stat-block-row">
        <div class="segmented-control nature-control" id="red2-sp-defense-nature-control">
            <button type="button" data-value="0.9">x0.9</button>
            <button type="button" data-value="1.0" class="active">x1.0</button>
            <button type="button" data-value="1.1">x1.1</button>
        </div>
        <input type="hidden" id="red2-sp-defense-nature" value="1.0"/>
        <input type="number" id="red2-sp-defense-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
        <input type="number" id="red2-sp-defense-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
      </div>
    </div>
    <div class="stat-block">
      <div style="display: flex; align-items: center;">
        <h4 style="margin-right: 0px; margin-bottom: 0;">HP</h4>
        <span id="red2-hp-actual" class="actual-stat" style="margin-right: 2px;">-</span>
      </div>
      <div class="stat-block-row">
        <input type="number" id="red2-hp-iv" value="31" min="0" max="31" class="iv-input" title="個体値" style="margin-left:auto;"/>
        <input type="number" id="red2-hp-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
      </div>
    </div>
  </div>

  <div class="panel" id="red1-panel" style="background-color: lightcoral;">
    <div class="panel-header-row">
      <h3>Red 1</h3>
      <div class="pokemon-info-line pokemon-name-item-row">
        <div class="pokemon-name-input-wrapper">
          <input type="text" id="red1-pokemon-name" autocomplete="off" placeholder="ポケモン名" class="search-input-field pokemon-name-input" />
        </div>
        <input type="text" id="red1-item" class="item-input" placeholder="持ち物">
        <span id="red1-pokemon-type" class="type-display">Type</span>
      </div>
    </div>
    <div class="pokemon-info-line">
        <div class="ability-section" id="red1-ability-section">
            <div class="segmented-control" id="red1-ability-choice"></div>
        </div>
        <label class="checkbox-inline"><input type="checkbox" id="red1-ability-nullified" />無効</label>
    </div>
    <div class="pokemon-info-line">
        <select id="red1-type-change" title="タイプ変更">
            <option value="">タイプ変更なし</option>
            <option value="terastal-normal">テラス(ノーマル)</option>
            <option value="terastal-fire">テラス(ほのお)</option>
            <option value="terastal-water">テラス(みず)</option>
            <option value="terastal-electric">テラス(でんき)</option>
            <option value="terastal-grass">テラス(くさ)</option>
            <option value="terastal-ice">テラス(こおり)</option>
            <option value="terastal-fighting">テラス(かくとう)</option>
            <option value="terastal-poison">テラス(どく)</option>
            <option value="terastal-ground">テラス(じめん)</option>
            <option value="terastal-flying">テラス(ひこう)</option>
            <option value="terastal-psychic">テラス(エスパー)</option>
            <option value="terastal-bug">テラス(むし)</option>
            <option value="terastal-rock">テラス(いわ)</option>
            <option value="terastal-ghost">テラス(ゴースト)</option>
            <option value="terastal-dragon">テラス(ドラゴン)</option>
            <option value="terastal-dark">テラス(あく)</option>
            <option value="terastal-steel">テラス(はがね)</option>
            <option value="terastal-fairy">テラス(フェアリー)</option>
            <option value="stellar">ステラ</option>
        </select>
        <input type="text" id="red1-move" autocomplete="off" placeholder="技" class="search-input-field move-input" />
        <input type="number" id="red1-move-times" title="技の回数" value="1" min="1" max="5" style="width: 50px;"/>
        <span id="red1-move-type" class="type-display">MoveType</span>
    </div>
    <div id="red1-move-double-damage-section" class="move-double-damage-section" style="display:none;">
        <label class="checkbox-inline"><input type="checkbox" id="red1-double-damage-checkbox" /> ダブルダメージ</label>
    </div>
    <div class="stat-block" id="red1-main-offensive-stat-block">
      <div style="display: flex; align-items: center;">
        <h4 id="red1-main-offensive-label" style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">A or C</h4>
        <div style="display: flex; align-items: center;">
          <span id="red1-main-offensive-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
          <div class="attack-rank-selector">
              <div class="selector-controls">
                  <div class="dropdown-wrapper">
                      <button id="red1-main-offensive-dropdownBtn" class="dropdown-toggle">
                          <span id="red1-main-offensive-rank-display">±0</span>
                          <span class="arrow-icon">▼</span>
                      </button>
                      <ul id="red1-main-offensive-dropdownMenu" class="dropdown-menu"></ul>
                  </div>
                  <button type="button" onclick="window.changeRank('red1-main-offensive', -1)" class="rank-btn minus">-</button>
                  <span id="red1-main-offensive-rank-val" class="rank-value" style="display:none;">0</span>
                  <button type="button" onclick="window.changeRank('red1-main-offensive', 1)" class="rank-btn plus">+</button>
              </div>
          </div>
        </div>
      </div>
      <div class="stat-block-row">
        <div class="segmented-control nature-control" id="red1-main-offensive-nature-control">
            <button type="button" data-value="0.9">x0.9</button>
            <button type="button" data-value="1.0" class="active">x1.0</button>
            <button type="button" data-value="1.1">x1.1</button>
        </div>
        <input type="hidden" id="red1-main-offensive-nature" value="1.0"/>
        <input type="number" id="red1-main-offensive-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
        <input type="number" id="red1-main-offensive-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
      </div>
    </div>
    <div class="stat-block">
        <div style="display: flex; align-items: center;">
            <h4 style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">B</h4>
            <div style="display: flex; align-items: center;">
              <span id="red1-defense-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
              <div class="attack-rank-selector">
                  <div class="selector-controls">
                      <div class="dropdown-wrapper">
                          <button id="red1-defense-dropdownBtn" class="dropdown-toggle">
                              <span id="red1-defense-rank-display">±0</span>
                              <span class="arrow-icon">▼</span>
                          </button>
                          <ul id="red1-defense-dropdownMenu" class="dropdown-menu"></ul>
                      </div>
                      <button type="button" onclick="window.changeRank('red1-defense', -1)" class="rank-btn minus">-</button>
                      <span id="red1-defense-rank-val" class="rank-value" style="display:none;">0</span>
                      <button type="button" onclick="window.changeRank('red1-defense', 1)" class="rank-btn plus">+</button>
                  </div>
              </div>
            </div>
        </div>
        <div class="stat-block-row">
            <div class="segmented-control" id="red1-defense-nature-control">
                <button type="button" data-value="0.9">x0.9</button>
                <button type="button" data-value="1.0" class="active">x1.0</button>
                <button type="button" data-value="1.1">x1.1</button>
            </div>
            <input type="hidden" id="red1-defense-nature" value="1.0"/>
            <input type="number" id="red1-defense-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
            <input type="number" id="red1-defense-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
        </div>
    </div>
    <div class="stat-block">
        <div style="display: flex; align-items: center;">
            <h4 style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">D</h4>
            <div style="display: flex; align-items: center;">
              <span id="red1-sp-defense-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
              <div class="attack-rank-selector">
                  <div class="selector-controls">
                      <div class="dropdown-wrapper">
                          <button id="red1-sp-defense-dropdownBtn" class="dropdown-toggle">
                              <span id="red1-sp-defense-rank-display">±0</span>
                              <span class="arrow-icon">▼</span>
                          </button>
                          <ul id="red1-sp-defense-dropdownMenu" class="dropdown-menu"></ul>
                      </div>
                      <button type="button" onclick="window.changeRank('red1-sp-defense', -1)" class="rank-btn minus">-</button>
                      <span id="red1-sp-defense-rank-val" class="rank-value" style="display:none;">0</span>
                      <button type="button" onclick="window.changeRank('red1-sp-defense', 1)" class="rank-btn plus">+</button>
                  </div>
              </div>
            </div>
        </div>
        <div class="stat-block-row">
            <div class="segmented-control" id="red1-sp-defense-nature-control">
                <button type="button" data-value="0.9">x0.9</button>
                <button type="button" data-value="1.0" class="active">x1.0</button>
                <button type="button" data-value="1.1">x1.1</button>
            </div>
            <input type="hidden" id="red1-sp-defense-nature" value="1.0"/>
            <input type="number" id="red1-sp-defense-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
            <input type="number" id="red1-sp-defense-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
        </div>
    </div>
    <div class="stat-block">
        <div style="display: flex; align-items: center;">
            <h4 style="margin-right: 0px; margin-bottom: 0;">HP</h4>
            <span id="red1-hp-actual" class="actual-stat" style="margin-right: 2px;">-</span>
        </div>
        <div class="stat-block-row">
            <input type="number" id="red1-hp-iv" value="31" min="0" max="31" class="iv-input" title="個体値" style="margin-left:auto;"/>
            <input type="number" id="red1-hp-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
        </div>
    </div>
  </div>

  <div class="field-section-container" id="field-section">
    <div class="field-left-column">
        <div class="field-status-area team-red-status-bg">
            <h4>Red場の状態</h4>
            <textarea id="red-field-status" rows="2" placeholder="例: リフレクター, おいかぜ..."></textarea>
            <div>
                <label class="checkbox-inline"><input type="checkbox" id="red-reflect-active" /> リフレクター</label>
                <label class="checkbox-inline"><input type="checkbox" id="red-lightscreen-active" /> ひかりのかべ</label>
            </div>
        </div>
        <div class="field-status-area common-field-status-bg">
            <h4>場の状態</h4>
            <div class="menu-section">
                <label for="center-weatherControl">天候:</label>
                <div class="segmented-control" id="center-weatherControl">
                    <button type="button" data-value="none" class="active">なし</button>
                    <button type="button" data-value="sun">晴</button>
                    <button type="button" data-value="rain">雨</button>
                    <button type="button" data-value="sand">砂</button>
                    <button type="button" data-value="snow">雪</button> </div>
            </div>
            <div class="menu-section">
                <label for="center-fieldControl">フィールド:</label>
                <div class="segmented-control" id="center-fieldControl">
                    <button type="button" data-value="none" class="active">なし</button>
                    <button type="button" data-value="grassy">グラス</button>
                    <button type="button" data-value="electric">エレキ</button>
                    <button type="button" data-value="psychic">サイコ</button>
                    <button type="button" data-value="misty">ミスト</button>
                </div>
            </div>
        </div>
        <div class="field-status-area team-blue-status-bg">
            <h4>Blue場の状態</h4>
            <textarea id="blue-field-status" rows="2" placeholder="例: ひかりのかべ, トリックルーム..."></textarea>
            <div>
                <label class="checkbox-inline"><input type="checkbox" id="blue-reflect-active" /> リフレクター</label>
                <label class="checkbox-inline"><input type="checkbox" id="blue-lightscreen-active" /> ひかりのかべ</label>
            </div>
        </div>
    </div>
    <div class="pokemon-hp-display-area">
        <h4>ポケモンHP</h4>
        <div class="team-hp-rows">
            <div class="pokemon-hp-row">
                <div class="pokemon-hp-entry">
                    <span>Red 2: <span id="red2-hp-table-name">-</span></span>
                    <div class="hp-bar-container"><div id="red2-hp-bar" class="hp-bar">100%</div></div>
                </div>
                <div class="pokemon-hp-entry">
                    <span>Red 1: <span id="red1-hp-table-name">-</span></span>
                    <div class="hp-bar-container"><div id="red1-hp-bar" class="hp-bar">100%</div></div>
                </div>
            </div>
            <div class="pokemon-icon-row">
                <div class="pokemon-icon-entry"><div class="pokemon-icon" id="red2-icon"></div></div>
                <div class="pokemon-icon-entry"><div class="pokemon-icon" id="red1-icon"></div></div>
            </div>
            <div class="pokemon-hp-row">
                <div class="pokemon-hp-entry">
                    <span>Blue 1: <span id="blue1-hp-table-name">-</span></span>
                    <div class="hp-bar-container"><div id="blue1-hp-bar" class="hp-bar">100%</div></div>
                </div>
                <div class="pokemon-hp-entry">
                    <span>Blue 2: <span id="blue2-hp-table-name">-</span></span>
                    <div class="hp-bar-container"><div id="blue2-hp-bar" class="hp-bar">100%</div></div>
                </div>
            </div>
            <div class="pokemon-icon-row">
                <div class="pokemon-icon-entry"><div class="pokemon-icon" id="blue1-icon"></div></div>
                <div class="pokemon-icon-entry"><div class="pokemon-icon" id="blue2-icon"></div></div>
            </div>
        </div>
        <button id="calculate-damage-button" style="margin-top: 10px;">ダメージ計算実行</button>
    </div>
  </div>

  <div class="panel" id="blue1-panel" style="background-color: lightblue;">
    <div class="panel-header-row">
        <h3>Blue 1</h3>
        <div class="pokemon-info-line pokemon-name-item-row">
            <div class="pokemon-name-input-wrapper">
                <input type="text" id="blue1-pokemon-name" autocomplete="off" placeholder="ポケモン名" class="search-input-field pokemon-name-input" />
            </div>
            <input type="text" id="blue1-item" class="item-input" placeholder="持ち物">
            <span id="blue1-pokemon-type" class="type-display">Type</span>
        </div>
    </div>
    <div class="pokemon-info-line">
        <div class="ability-section" id="blue1-ability-section">
            <div class="segmented-control" id="blue1-ability-choice"></div>
        </div>
        <label class="checkbox-inline"><input type="checkbox" id="blue1-ability-nullified" />無効</label>
    </div>
    <div class="pokemon-info-line">
        <select id="blue1-type-change" title="タイプ変更">
            <option value="">タイプ変更なし</option>
            <option value="terastal-normal">テラス(ノーマル)</option>
            <option value="terastal-fire">テラス(ほのお)</option>
            <option value="terastal-water">テラス(みず)</option>
            <option value="terastal-electric">テラス(でんき)</option>
            <option value="terastal-grass">テラス(くさ)</option>
            <option value="terastal-ice">テラス(こおり)</option>
            <option value="terastal-fighting">テラス(かくとう)</option>
            <option value="terastal-poison">テラス(どく)</option>
            <option value="terastal-ground">テラス(じめん)</option>
            <option value="terastal-flying">テラス(ひこう)</option>
            <option value="terastal-psychic">テラス(エスパー)</option>
            <option value="terastal-bug">テラス(むし)</option>
            <option value="terastal-rock">テラス(いわ)</option>
            <option value="terastal-ghost">テラス(ゴースト)</option>
            <option value="terastal-dragon">テラス(ドラゴン)</option>
            <option value="terastal-dark">テラス(あく)</option>
            <option value="terastal-steel">テラス(はがね)</option>
            <option value="terastal-fairy">テラス(フェアリー)</option>
            <option value="stellar">ステラ</option>
        </select>
        <input type="text" id="blue1-move" autocomplete="off" placeholder="技" class="search-input-field move-input" />
        <input type="number" id="blue1-move-times" title="技の回数" value="1" min="1" max="5" style="width: 50px;"/>
        <span id="blue1-move-type" class="type-display">MoveType</span>
    </div>
    <div id="blue1-move-double-damage-section" class="move-double-damage-section" style="display:none;">
        <label class="checkbox-inline"><input type="checkbox" id="blue1-double-damage-checkbox" /> ダブルダメージ</label>
    </div>
     <div class="stat-block" id="blue1-main-offensive-stat-block">
      <div style="display: flex; align-items: center;">
        <h4 id="blue1-main-offensive-label" style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">A or C</h4>
        <div style="display: flex; align-items: center;">
          <span id="blue1-main-offensive-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
          <div class="attack-rank-selector">
              <div class="selector-controls">
                  <div class="dropdown-wrapper">
                      <button id="blue1-main-offensive-dropdownBtn" class="dropdown-toggle">
                          <span id="blue1-main-offensive-rank-display">±0</span>
                          <span class="arrow-icon">▼</span>
                      </button>
                      <ul id="blue1-main-offensive-dropdownMenu" class="dropdown-menu"></ul>
                  </div>
                  <button type="button" onclick="window.changeRank('blue1-main-offensive', -1)" class="rank-btn minus">-</button>
                  <span id="blue1-main-offensive-rank-val" class="rank-value" style="display:none;">0</span>
                  <button type="button" onclick="window.changeRank('blue1-main-offensive', 1)" class="rank-btn plus">+</button>
              </div>
          </div>
        </div>
      </div>
      <div class="stat-block-row">
        <div class="segmented-control nature-control" id="blue1-main-offensive-nature-control">
            <button type="button" data-value="0.9">x0.9</button>
            <button type="button" data-value="1.0" class="active">x1.0</button>
            <button type="button" data-value="1.1">x1.1</button>
        </div>
        <input type="hidden" id="blue1-main-offensive-nature" value="1.0"/>
        <input type="number" id="blue1-main-offensive-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
        <input type="number" id="blue1-main-offensive-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
      </div>
    </div>
    <div class="stat-block">
        <div style="display: flex; align-items: center;">
            <h4 style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">B</h4>
            <div style="display: flex; align-items: center;">
              <span id="blue1-defense-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
              <div class="attack-rank-selector">
                  <div class="selector-controls">
                      <div class="dropdown-wrapper">
                          <button id="blue1-defense-dropdownBtn" class="dropdown-toggle">
                              <span id="blue1-defense-rank-display">±0</span>
                              <span class="arrow-icon">▼</span>
                          </button>
                          <ul id="blue1-defense-dropdownMenu" class="dropdown-menu"></ul>
                      </div>
                      <button type="button" onclick="window.changeRank('blue1-defense', -1)" class="rank-btn minus">-</button>
                      <span id="blue1-defense-rank-val" class="rank-value" style="display:none;">0</span>
                      <button type="button" onclick="window.changeRank('blue1-defense', 1)" class="rank-btn plus">+</button>
                  </div>
              </div>
            </div>
        </div>
        <div class="stat-block-row">
            <div class="segmented-control" id="blue1-defense-nature-control">
                <button type="button" data-value="0.9">x0.9</button>
                <button type="button" data-value="1.0" class="active">x1.0</button>
                <button type="button" data-value="1.1">x1.1</button>
            </div>
            <input type="hidden" id="blue1-defense-nature" value="1.0"/>
            <input type="number" id="blue1-defense-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
            <input type="number" id="blue1-defense-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
        </div>
    </div>
    <div class="stat-block">
        <div style="display: flex; align-items: center;">
            <h4 style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">D</h4>
            <div style="display: flex; align-items: center;">
              <span id="blue1-sp-defense-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
              <div class="attack-rank-selector">
                  <div class="selector-controls">
                      <div class="dropdown-wrapper">
                          <button id="blue1-sp-defense-dropdownBtn" class="dropdown-toggle">
                              <span id="blue1-sp-defense-rank-display">±0</span>
                              <span class="arrow-icon">▼</span>
                          </button>
                          <ul id="blue1-sp-defense-dropdownMenu" class="dropdown-menu"></ul>
                      </div>
                      <button type="button" onclick="window.changeRank('blue1-sp-defense', -1)" class="rank-btn minus">-</button>
                      <span id="blue1-sp-defense-rank-val" class="rank-value" style="display:none;">0</span>
                      <button type="button" onclick="window.changeRank('blue1-sp-defense', 1)" class="rank-btn plus">+</button>
                  </div>
              </div>
            </div>
        </div>
        <div class="stat-block-row">
            <div class="segmented-control" id="blue1-sp-defense-nature-control">
                <button type="button" data-value="0.9">x0.9</button>
                <button type="button" data-value="1.0" class="active">x1.0</button>
                <button type="button" data-value="1.1">x1.1</button>
            </div>
            <input type="hidden" id="blue1-sp-defense-nature" value="1.0"/>
            <input type="number" id="blue1-sp-defense-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
            <input type="number" id="blue1-sp-defense-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
        </div>
    </div>
    <div class="stat-block">
        <div style="display: flex; align-items: center;">
            <h4 style="margin-right: 0px; margin-bottom: 0;">HP</h4>
            <span id="blue1-hp-actual" class="actual-stat" style="margin-right: 2px;">-</span>
        </div>
        <div class="stat-block-row">
            <input type="number" id="blue1-hp-iv" value="31" min="0" max="31" class="iv-input" title="個体値" style="margin-left:auto;"/>
            <input type="number" id="blue1-hp-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
        </div>
    </div>
  </div>

  <div class="panel" id="blue2-panel" style="background-color: lightblue;">
    <div class="panel-header-row">
        <h3>Blue 2</h3>
        <div class="pokemon-info-line pokemon-name-item-row">
            <div class="pokemon-name-input-wrapper">
                <input type="text" id="blue2-pokemon-name" autocomplete="off" placeholder="ポケモン名" class="search-input-field pokemon-name-input" />
            </div>
            <input type="text" id="blue2-item" class="item-input" placeholder="持ち物">
            <span id="blue2-pokemon-type" class="type-display">Type</span>
        </div>
    </div>
    <div class="pokemon-info-line">
        <div class="ability-section" id="blue2-ability-section">
            <div class="segmented-control" id="blue2-ability-choice"></div>
        </div>
        <label class="checkbox-inline"><input type="checkbox" id="blue2-ability-nullified" />無効</label>
    </div>
    <div class="pokemon-info-line">
        <select id="blue2-type-change" title="タイプ変更">
            <option value="">タイプ変更なし</option>
            <option value="terastal-normal">テラス(ノーマル)</option>
            <option value="terastal-fire">テラス(ほのお)</option>
            <option value="terastal-water">テラス(みず)</option>
            <option value="terastal-electric">テラス(でんき)</option>
            <option value="terastal-grass">テラス(くさ)</option>
            <option value="terastal-ice">テラス(こおり)</option>
            <option value="terastal-fighting">テラス(かくとう)</option>
            <option value="terastal-poison">テラス(どく)</option>
            <option value="terastal-ground">テラス(じめん)</option>
            <option value="terastal-flying">テラス(ひこう)</option>
            <option value="terastal-psychic">テラス(エスパー)</option>
            <option value="terastal-bug">テラス(むし)</option>
            <option value="terastal-rock">テラス(いわ)</option>
            <option value="terastal-ghost">テラス(ゴースト)</option>
            <option value="terastal-dragon">テラス(ドラゴン)</option>
            <option value="terastal-dark">テラス(あく)</option>
            <option value="terastal-steel">テラス(はがね)</option>
            <option value="terastal-fairy">テラス(フェアリー)</option>
            <option value="stellar">ステラ</option>
        </select>
        <input type="text" id="blue2-move" autocomplete="off" placeholder="技" class="search-input-field move-input" />
        <input type="number" id="blue2-move-times" title="技の回数" value="1" min="1" max="5" style="width: 50px;"/>
        <span id="blue2-move-type" class="type-display">MoveType</span>
    </div>
    <div id="blue2-move-double-damage-section" class="move-double-damage-section" style="display:none;">
        <label class="checkbox-inline"><input type="checkbox" id="blue2-double-damage-checkbox" /> ダブルダメージ</label>
    </div>
    <div class="stat-block" id="blue2-main-offensive-stat-block">
      <div style="display: flex; align-items: center;">
        <h4 id="blue2-main-offensive-label" style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">A or C</h4>
        <div style="display: flex; align-items: center;">
          <span id="blue2-main-offensive-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
          <div class="attack-rank-selector">
              <div class="selector-controls">
                  <div class="dropdown-wrapper">
                      <button id="blue2-main-offensive-dropdownBtn" class="dropdown-toggle">
                          <span id="blue2-main-offensive-rank-display">±0</span>
                          <span class="arrow-icon">▼</span>
                      </button>
                      <ul id="blue2-main-offensive-dropdownMenu" class="dropdown-menu"></ul>
                  </div>
                  <button type="button" onclick="window.changeRank('blue2-main-offensive', -1)" class="rank-btn minus">-</button>
                  <span id="blue2-main-offensive-rank-val" class="rank-value" style="display:none;">0</span>
                  <button type="button" onclick="window.changeRank('blue2-main-offensive', 1)" class="rank-btn plus">+</button>
              </div>
          </div>
        </div>
      </div>
      <div class="stat-block-row">
        <div class="segmented-control nature-control" id="blue2-main-offensive-nature-control">
            <button type="button" data-value="0.9">x0.9</button>
            <button type="button" data-value="1.0" class="active">x1.0</button>
            <button type="button" data-value="1.1">x1.1</button>
        </div>
        <input type="hidden" id="blue2-main-offensive-nature" value="1.0"/>
        <input type="number" id="blue2-main-offensive-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
        <input type="number" id="blue2-main-offensive-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
      </div>
    </div>
    <div class="stat-block">
        <div style="display: flex; align-items: center;">
            <h4 style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">B</h4>
            <div style="display: flex; align-items: center;">
              <span id="blue2-defense-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
              <div class="attack-rank-selector">
                  <div class="selector-controls">
                      <div class="dropdown-wrapper">
                          <button id="blue2-defense-dropdownBtn" class="dropdown-toggle">
                              <span id="blue2-defense-rank-display">±0</span>
                              <span class="arrow-icon">▼</span>
                          </button>
                          <ul id="blue2-defense-dropdownMenu" class="dropdown-menu"></ul>
                      </div>
                      <button type="button" onclick="window.changeRank('blue2-defense', -1)" class="rank-btn minus">-</button>
                      <span id="blue2-defense-rank-val" class="rank-value" style="display:none;">0</span>
                      <button type="button" onclick="window.changeRank('blue2-defense', 1)" class="rank-btn plus">+</button>
                  </div>
              </div>
            </div>
        </div>
        <div class="stat-block-row">
            <div class="segmented-control" id="blue2-defense-nature-control">
                <button type="button" data-value="0.9">x0.9</button>
                <button type="button" data-value="1.0" class="active">x1.0</button>
                <button type="button" data-value="1.1">x1.1</button>
            </div>
            <input type="hidden" id="blue2-defense-nature" value="1.0"/>
            <input type="number" id="blue2-defense-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
            <input type="number" id="blue2-defense-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
        </div>
    </div>
    <div class="stat-block">
        <div style="display: flex; align-items: center;">
            <h4 style="min-width: 70px; text-align: left; margin-right: 0px; margin-bottom: 0;">D</h4>
            <div style="display: flex; align-items: center;">
              <span id="blue2-sp-defense-actual" class="actual-stat" style="width: 50px; text-align: right; margin-right: 2px;">-</span>
              <div class="attack-rank-selector">
                  <div class="selector-controls">
                      <div class="dropdown-wrapper">
                          <button id="blue2-sp-defense-dropdownBtn" class="dropdown-toggle">
                              <span id="blue2-sp-defense-rank-display">±0</span>
                              <span class="arrow-icon">▼</span>
                          </button>
                          <ul id="blue2-sp-defense-dropdownMenu" class="dropdown-menu"></ul>
                      </div>
                      <button type="button" onclick="window.changeRank('blue2-sp-defense', -1)" class="rank-btn minus">-</button>
                      <span id="blue2-sp-defense-rank-val" class="rank-value" style="display:none;">0</span>
                      <button type="button" onclick="window.changeRank('blue2-sp-defense', 1)" class="rank-btn plus">+</button>
                  </div>
              </div>
            </div>
        </div>
        <div class="stat-block-row">
            <div class="segmented-control" id="blue2-sp-defense-nature-control">
                <button type="button" data-value="0.9">x0.9</button>
                <button type="button" data-value="1.0" class="active">x1.0</button>
                <button type="button" data-value="1.1">x1.1</button>
            </div>
            <input type="hidden" id="blue2-sp-defense-nature" value="1.0"/>
            <input type="number" id="blue2-sp-defense-iv" value="31" min="0" max="31" class="iv-input" title="個体値"/>
            <input type="number" id="blue2-sp-defense-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
        </div>
    </div>
    <div class="stat-block">
        <div style="display: flex; align-items: center;">
            <h4 style="margin-right: 0px; margin-bottom: 0;">HP</h4>
            <span id="blue2-hp-actual" class="actual-stat" style="margin-right: 2px;">-</span>
        </div>
        <div class="stat-block-row">
            <input type="number" id="blue2-hp-iv" value="31" min="0" max="31" class="iv-input" title="個体値" style="margin-left:auto;"/>
            <input type="number" id="blue2-hp-ev" value="0" min="0" max="252" step="4" class="ev-input" title="努力値"/>
        </div>
    </div>
  </div>
</div>

<script type="module" src="ui/main.js"></script>
</body>
</html>